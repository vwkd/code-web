# RequestAnimationFrame API



## Introduction

- API for animations



## `requestAnimationFrame()`

`window.requestAnimationFrame(callback)`

- executes callback once together with next repaint of screen, no custom delay
- returns unique identifier, integer
- if browser has not yet repainted, can cancel using `window.cancelAnimationFrame(requestID)`
- callback is passed number of milliseconds since time origin as argument, is usually time at which browser context was created
- not available in Web Workers, unlike `setTimeout`/`Interval()`
- to make interval needs to call recursively

```javascript
let requestID;

function draw() {
  // your code here
  requestID = requestAnimationFrame(draw);
}

// can stop animation with cancelAnimationFrame(requestID) or build logic in recursion to not call itself anymore
```

- rAF runs a function repeatedly as quickly and efficiently as possible on given system, since browser intelligently adapts repaint to device, e.g. frame rate not higher than maximal screen refresh rate, no repaint if page is not visible, etc.
- only use `setInterval()` / recursive `setTimeout()` if needs specific framerate