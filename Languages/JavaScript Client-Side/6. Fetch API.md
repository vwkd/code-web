# Fetch API

[TOC]



## Introduction

(see also beforehand The Web)

<!-- ToDo: Finish -->

- HTTP client, can send requests and receive responses
- successor to XMLHttpRequest API
XMLHttpRequest using Promises

## Abort

using AbortController

```javascript
const controller = new AbortController();
const signal = controller.signal;

setTimeout(() => controller.abort(), 5000);

fetch(url, { signal }).then(response => {
  return response.text();
}).then(text => {
  console.log(text);
}).catch(err => {
  if (err.name === 'AbortError') {
    console.log('Fetch aborted');
  } else {
    console.error('Uh oh, an error!', err);
  }
});
```

A single signal can be used to abort many fetches at once

## Request

`fetch(url, options)`

object ??

### Mode

only requests of that type will resolve ???

### Method

string

### Headers

object

### Body

string

### Credentials

```javascript
fetch(url, {
  credentials: 'include'
})
```

## Response

Stream object

### Type

???
where the resource has come from and can be used to inform how you should treat the response object
resource on the same origin has `basic` type, no restrictions on what you can view from the response
resource on another origin which returns the CORS headers then the type is `cors`. Like basis type, except restricts the headers you can view to `Cache-Control`, `Content-Language`, `Content-Type`, `Expires`, `Last-Modified`, and `Pragma`
resource on another origin which doesn't return CORS headers then the type is `opaque`. won't be able to read the data returned or view the status of the request

### Status

check status
??? what is a good response ???

```javascript
response.status == 200
```

```javascript
response.status >= 200 && response.status < 300
```

## Resources