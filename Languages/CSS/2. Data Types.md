# Data Types

[TOC]



## Introduction

- set of values, groups "similar" ones
- notation similar to HTML element, e.g. `<string>`, `<number>`, `<color>`, `<image>`, etc. ❗️
- functions produce values of a data type, e.g. `hsl()` produces color value, `url()` produces URL value, calc() produces a number??? value, etc.



## Identifiers

- `<ident>` for pre-defined identifiers, `<custom-ident>` for author-defined identifiers < data type
- keywords, e.g. `inherit`, `auto`, `start`, `center`, etc.
- unquoted text
- case insensitive for `<ident>`, case sensitive for `<custom-ident>`
- beware: `<dashed-ident>` is simply `<custom-ident>` starting with two dashes ❗️



## Strings

- `<string>` < data type
- quoted text
- double quotes or single quotes
- beware: same quotes as delimiters in string need to be escaped using `\`
- case sensitive



## URLs

- `<url>` < data type
- value of `url()` function, `url(<string> <url-modifier>* )`
- beware: legacy places allowed `<string>` itself, e.g. for `@import`
- beware: base URL in external style sheet is URL of style sheet itself, not of document that uses style sheet



## Integers

- `<integer>` < data type
- integer
- leading zero for multi-digit integer part is ignored, e.g. `02` is `2`



## Floating-point number

- `<number>` < data type
- floating-point number
- leading zero for multi-digit integer part is ignored, e.g. `02` is `2`
- leading zero for purely fractional number can be omitted, e.g. `0.141` or `.141`



## Percentage

- `<percentage>` < data type
- number followed by %
- fraction of another reference value (of numeric data type)
- resolves to same data type as reference value, sometimes denoted as `<*-percentage>` for data type `*` for explicitness, e.g. `<length-percentage>`
- beware: reference value is not necessarily of a property of the parent element ❗️
- beware: reference value is not necessarily for same property as the current value being set, e.g. width of containing block ❗️



## Ratio

- `<ratio>` < data type
- two numbers separated by `/`
- multiplicative relationship between two numeric values of same data type
- resolves to same data type as consituent values
- both values are free to change as long as their ratio holds
- like specifying the percentage of one value to the other
- second value defaults to `1` if omitted



## Dimension

- `<dimension>` < data type
- number followed by a unit without whitespace, e.g. `1px`
- unit is a pre-defined identifier, see Identifiers, i.e. case-insensitive, no quotes, etc.
- for `0` can omit unit
- beware: wrong use of term "dimension", not a type of quantity (data type) but set of all units of quantity, see NFP/Units.md



## Length

- `<length>` < `<dimension>` < data type
- number with a unit of dimension length
- beware: for screen media use only relative units and pixel unit ❗️

### Relative units

- relative to value of another property
- beware: more relative units that can be used only for value of certain properties, e.g. `fr` for grid properties
- beware: element-relative units for nested elements grow polynomially, e.g. `em`, `lh`, etc. ❗️

#### Font-relative units

| unit | definition |
| - | - |
| `em`| font size of element |
| `rem`| font size of root element |
| `ex`| x-height of element's font |
| `ch`| 0-width of element's font |
| `ic`| 水-width of element's font |
| `cap`| cap height of element's font |

- (\*) `ex`, `ch`, `ic`, `cap` are proportional to `em`, can treat as `em` below
- when uses `em` (*) on `font-size` property of element, uses computed value of `font-size` property of parent element
- when uses `em` (*) or `rem` on `font-size` property of root element, uses initial value of `font-size` property, i.e. `medium`
- when uses not for element property, uses initial value of font properties, e.g. for media query

<!-- spec bug: defines `rem` to be like `em` for `font-size` property, see https://github.com/w3c/csswg-drafts/issues/5218 -->

#### Line-relative units

| unit | definition |
| - | - |
| `lh`| line height of element |
| `rlh`| line height of root element |

- when uses `lh` on `line-height` property of element, uses computed value of `line-height` property of parent element
- when uses `lh` or `rlh` on `line-height` property of root element, uses initial value of `line-height` property, i.e. `normal`
- when uses not for element property, uses initial value of `line-height` property, e.g. for media query

<!-- spec bug: defines `rlh` to be like `lh` for `line-height` property, see https://github.com/w3c/csswg-drafts/issues/5218 -->

#### Viewport-relative units

| unit | definition |
| - | - |
| `vw`| 1% of viewport's width |
| `vh`| 1% of viewport's height |
| `vi`| 1% of viewport's size in inline axis of root element |
| `vb`| 1% of viewport's size in block axis of root element |
| `vmin`| 1% of viewport's smaller dimension |
| `vmax`| 1% of viewport's larger dimension |

- when uses not for element property, uses initial value of `writing-mode` property, e.g. for media query
- can use `vmin` with same value for width and height to create an adaptive square that's always smaller than the viewport

<!-- spec bug: defines viewport-relative units relative to ICB instead of viewport, see https://github.com/w3c/csswg-drafts/issues/5218 -->

### Absolute units

- not relative to value of another property
- beware: historical bug, pixel unit and physical units are coupled by `1 px = 1/96 in`, either all are physical or none are, should have never been coupled units, one of the biggest CSS bugs, see issue [#614](https://github.com/w3c/csswg-drafts/issues/614) ⚠️⚠️⚠️
- for printed media recommends real physical units, makes pixel unit physical, i.e. `1 px := 1/96 in`
- for screen media recommends non-physical pixel unit, makes physical units non-physical, i.e. `1 in := 96 px`
- beware: user agent may not follow recommendation, e.g. pixel unit may be physical on screen ❗️

#### Pixel unit

- beware: read "pixel" as "size of pixel" ❗️
- historically defined as as one device pixel  
→ screen dependent, i.e. non-physical unit
- most screens were 96 DPI, 1 device pixel was 1/96 in per definition of DPI
- increasing DPI made device pixel smaller, 1px looked different on each screen
- defined pixel unit as device pixel of 96 DPI screen, i.e. `1 px := 1/96 in ≈ 0.26 mm`  
→ screen independent (and viewing distance dependent), i.e. physical unit
- but viewing distances of screens varied, 1px again looked different on same screen consumed from further away, e.g. phone vs. television
- defined pixel unit as linear size `S = 2*D*tan(0.0213 deg/2)` for variable viewing distance `D`, e.g. `D = 0.28 in` for desktop screen, `D = 0.14 in` for mobile screen, etc.  
→ screen independent and viewing distance independent, i.e. non-physical unit
- viewing angle `V = 0.0213 deg` from constraint to make pixel match device pixel of 96 DPI screen at arm's length, i.e. `S = 1/96 in` and `D = 28 in`
- pixel unit is actually rounded to nearest integer, i.e. `P := ⌊S⌋` for reference pixel `S` above
- beware: user agent can choose recommended viewing distance freely ❗️
- beware: don't use on printed media since is physical, makes no sense, see above ⚠️

<!-- spec bug: defines reference pixel as viewing angle, see https://github.com/w3c/csswg-drafts/issues/5221 -->

#### Physical units

| unit | name | definition |
| - | - | - |
| `cm` | centimeters | - |
| `mm` | millimeters | 1 mm := 0.1 cm |
| `Q` | quarter-millimeters | 1 Q := 0.25 mm |
| `in` | inches | 1 in = 2.54 cm |
| `pc` | picas | 1 pc := 12 pt ≈ 0.42 cm |
| `pt` | points | 1 pt := 1/72 in ≈ 0.35 mm |

- beware: don't use on screen media since is non-physical, makes no sense, see above ⚠️



## Angle

- `<angle>` < `<dimension>` < data type
- number with a unit of dimension angle
- units: `deg`, `rad`, `grad`, `turn`
- for direction is bearing angle, i.e. `0 deg` is up, `90 deg` is right, etc.



## Time

- `<time>` < `<dimension>` < data type
- number with a unit of dimension time
- units: `s`, `ms`



## Frequency

- `<frequency>` < `<dimension>` < data type
- number with a unit of dimension frequency
- units: `Hz`, `kHz`



## Resolution

- `<resolution>` < `<dimension>` < data type
- number with a unit of dimension resolution
- units: `dpi`, `dpcm`, `dppx`
- beware: `dpi` and `dppx` have the same relationship as `in` and `px` ❗️


<!-- ToDo: finish -->

## Colors

- `<color>` < data type

keywords, 140 predefined color names, e.g. `tomato`, `orange`, etc.
Hexadecimal RGB values, Each pair of values represents one of the channels — red, green and blue
functions: rgb(), hsl(), etc.

beware: don't use hexadecimal rbg values anymore, prefer rgb()
beware: hsla, rgba functions are deprecated, can use rbg, hsl directly
beware: don't use comma notation in hsl() and rgb() function to match syntax of lab(), lch(), and color()

### RGB (Red, Green, Blue)

- intensity of colors red, green, blue from 0 to 255, black if r = g = b = 0, white if r = g = b = 255, grey if r = g = b for any other value
- `rgb(r, g, b)` for 0 <= r, g, b <= 255 in decimal
- `#(r, g, b)` for 00 <= r, g, b <= ff in hexadecimal
- `rgba(r, g, b, a)` for additional 0 <= a <= 1 transparency, can also use `rgb(r, g, b, a)` in recent browsers

### HSL (Hue, Sturation, Lightness)

- hue: degree on color wheel, from 0 to 360, red is 0, green is 120, blue is 240
- saturation: intensity of color, from 0% to 100%, grey to full color
- lightness: lightness of color, from 0% to 100%, black to white
- `hsl(h, s, l)` for 0 <= h <= 360, 0% <= s,l <= 100%
- `hsla(h, s, l, a)` for additional 0 <= a <= 1 transparenty, can also use `hsla(h, s, l, a)` in recent browsers



## Image

- `<image>` < data type



## Position

- `<position>` < data type
keywords (top, left, .. , center), or lengths for offset ?!?!



## Functions

calc(): accepts values of same dimension data types, but in different units, e.g. `<length>` and `<length-percentage>`
can't be used for integer or number data types, no point since not relative anyways, can simply calculate beforehand