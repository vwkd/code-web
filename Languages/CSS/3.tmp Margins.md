<!-- beware from old layout, incorporate then delete -->

##### Margin

- two margins are adjoining iff
  - both belong to in-flow block-level boxes that participate in the same block formatting context
  - no line boxes, no clearance, no padding and no border separate them (Note that certain zero-height line boxes (see 9.4.2) are ignored for this purpose.)
  - both belong to vertically-adjacent box edges, i.e. form one of the following pairs:
    - top margin of a box and top margin of its first in-flow child
    - bottom margin of box and top margin of its next in-flow following sibling
    - bottom margin of a last in-flow child and bottom margin of its parent if the parent has 'auto' computed height
    - top and bottom margins of a box that does not establish a new block formatting context and that has zero computed 'min-height', zero or 'auto' computed 'height', and no in-flow - children

adjoining margins of two or more boxes (which might or might not be siblings) can combine to form a single margin. Margins that combine this way are said to collapse, and the resulting combined margin is called a collapsed margin.

vertical margins between boxes collapse.
- Adjoining vertical margins collapse, except:
  - Margins of the root element's box do not collapse.
  - If the top and bottom margins of an element with clearance are adjoining, its margins collapse with the adjoining margins of following siblings but that resulting margin does not - collapse with the bottom margin of the parent block.
  - If the top margin of a box with non-zero computed 'min-height' and 'auto' computed 'height' collapses with the bottom margin of its last in-flow child, then the child's bottom margin - does not collapse with the parent's bottom margin.

A collapsed margin is considered adjoining to another margin if any of its component margins is adjoining to that margin.
Note. Adjoining margins can be generated by elements that are not related as siblings or ancestors.

More details: https://www.w3.org/TR/CSS22/box.html#collapsing-margins

- beware: horizontal margins never collapse

Vertical margins between adjacent block-level boxes in a block formatting context collapse.