# Introduction

[TOC]


## CSS (Cascading Style Sheets)

- standard style sheet language of markup documents, e.g. HTML
- domain-specific declarative programming language, i.e. what to do, not how to do it
- describes _appearance_ of content and _presentation_ of Web page
- for _structure_ see CSS, for _behavior_ see JavaScript, e.g. text could be bold to emphasise it (structure) or to make it look better (appearance)
- file extension `.css`
- whitespace is collapsed to single space, like in LaTeX, i.e. line breaks, indentation etc. just for readability
- multi-line comments `/*...*/`, no single-line comments



## Document structure

- made up of rule-sets, sequenced linearly

```css
h1 {
  color: red;
  text-align: center;
}

p {
  color: blue;
  font-size: 12px;
}
```

- rule(-set): `h1 { ... }`, `p { ... }`, etc
- declaration block: `{ ... }`
- selector: `h1`, `p`, etc.
- declaration: `color: red`, `font-size: 12px`, etc.
- property: `color`, `font-size`, etc.
- value: `red`, `12px`, etc.



## Types

### External üëç

- style in separate `.css` file
- reference `.css` in `<link>` element anywhere in `<head>` section

```html
<link rel="stylesheet" href="...css">
```

- can omit `type` attribute since CSS is default style sheet language
- best practice, separates CSS from HTML
- separates presentation from content, reduces complexity and repetition, offers more flexibility and control

### Internal üëé

- style in `.html` file
- style in `<style>` element anywhere in `<head>` section

```html
<style>...</style>
```

- not recommended, mixes CSS with HTML
- needs to duplicate style for different page

### Inline üëé

- style in `.html` file
- declarations in `style` attribute of single HTML element
- no selector is needed since element is known

```html
<tagname style="property1: value1; property2: value2;">...</tagname>
```

- not recommended, mixes CSS with HTML
- needs to duplicate style for different elements



## Rule-set

```css
selector1, selector2 {
  property1: value1;
  property2: value2;
}
```

- specifies the style of the selected element(s)
- semicolon between declarations, last semicolon optional but makes later extension easier
- beware: invalid styles are silently ignored, e.g. misspelled selector, unsupported properties, etc., no way to see errors ‚ö†Ô∏è



## Selectors

```css
selector1 {
  /* ... */
}
```

- selects the element(s) a style is applied to
- like search operator, selects all elements that match the query
- can select by type, relationship, attributes, states, etc.
- mostly case insensitive, except for some attributes, e.g. `id`, `class`
- can compose selectors for very specific selections, e.g. `a#myid:hover`
- can combine multiple selectors using comma, e.g. `selector1, selector2 { ... }`

### Basic selectors

| selector | description |
| - | - |
| `myelement` | elements of this _element type_ |
| `#myid` | single unique element with this _ID-attribute_ |
| `.myclass` | elements with this _class-attribute_ |
| `*` | elements of any element type, i.e. _all elements_ |

- recommended to use lowercase hyphenation for own identifiers, e.g. class, ID, etc.

### Combinator selectors

| selector | description |
| - | - |
| `myel1 myel2` | elements of type `myel2` that are _descendants_ of elements with type `myel1`, not only immediate children |
| `myel1 > myel2` | elements of type `myel2` that are _children_ of elements with type `myel1`, only immediate descendants |
| `myel1 ~ myel2` | elements of type `myel2` that are _general siblings_ of elements with type `myel1`, i.e. all elements after `myel1` in same tree depth |
| `myel1 + myel2` | elements of type `myel2` that are _adjacent siblings_ of elements with type `myel1`, i.e. single elements directly after `myel1` in same tree depth |

### Attribute selectors

| selector | description |
| - | - |
| `[attr]` | elements with this _attribute_ |
| `[attr="val"]` | elements with this _attribute and value_ |
| `[attr*="val"]` | elements with this attribute _containing_ this value |
| `[attr~="val"]` | elements with this attribute _containing_ this value surrounded only by spaces |
| `[attr^="val"]` | elements with this attribute _starting_ with this value |
| `[attr$="val"]` | elements with this attribute _ending_ with this value |
| `[attr|="val"]` | elements with this attribute _starting_ with this value followed only by a hypen |

### Pseudo-class selectors

- selects elements in a certain state, state is like class of elements, but no real class

| selector | description |
| - | - |
| `:link` | links _not yet visited_, i.e. `<a>`, `<link>`, `<area>` |
| `:visited` | links _already visited_, i.e. `<a>`, `<link>`, `<area>` |
| `:hover` | elements _moused-over_ |
| `:active` | elements _selected_ |
| `:first-child` | elements that are _first children_ of their parents |
| `:first-of-type` | elements that are _first of their type_ inside their parents |
| `:nth-child(n)` | elements that are _nth children_ of their parents |
| `:nth-of-type(n)` | elements that are nth of their type_ inside their parents |
| `:focus` | elements _in focus_ |
| ... | ... |

- beware: `:link`, `:visited`, `:hover`, `:active` overwrite each other, must be in this order to work as expected ‚ùóÔ∏è

### Pseudo-element selectors

- selects certain part of an element, part is like element on its own, but no real element

| selector | description |
| - | - |
| `::first-line` | _first line_ of text in element |
| `::first-letter` | _first letter_ of text in element |
| `::before` | _before_ the content of element, still within content |
| `::after` | _after_ the content of element, still within content |
| `::selection` | _selected part_ of an element |

- (pre CSS2 syntax used single colon like for pseudo-class, still backwards compatible)



## Properties and values

```css
property1: value1;
```

- set a stylistic feature of the selected element(s)
- a property can affect a specific set of possible elements
- a property has a specific set of possible values
- a property might take only effect if element has certain style, e.g. `width` only if not `position:flow`
- property names are hyphenated
- if value contains spaces needs quotation marks, e.g. `font-family: "Helvetica Neue"`
- case insensitive, except values not under control of CSS, e.g. URLs, `content` strings, etc.

### Shorthand property

- combines multiple more specific properties, e.g. `padding` combines `padding-top`, `padding-right`, `padding-bottom`, `padding-left`
- accepts multiple values separated by space
- positional shorthands accept 4, 3, 2, or 1 value(s) ???
  - 4: top, right, bottom, left, i.e. clockwise
  - 3: top, left & right, bottom
  - 2: top & bottom, left & right
  - 1: all positions
- beware: a more specific property not set in shorthand reverts to its initial value, i.e. overrides previously set value ???

```css
???
```

### Units

<!-- ToDo: ??? -->

- most values are of a specific type, need units

### Basic properties and values

<!-- ToDo: Delete -->

| property | values | description | default |
| - | - | - | - |
| `color` | see Color | text color | |
| `background-color` | see Color | background color | |
| `font-family` | string | text font | `"Times New Roman"` |
| `font-size` | see Size ??? | text size | `16px` |
| `text-align` | [`center`, `left`, ...] | text alignment | `left` ?? |
| `border` | ??? | border size, color ??? | |
| `padding` | | | |
| `margin` | | | |
| `text-decoration` | | | |
| `width`, `height` | | | |
| `background` | | | |
| `display` | | | |
| `position` | | | |
| `float` | | | |

- font must be installed on OS

### Global properties

<!-- ToDo: Finish -->

- can affect all elements

### Global values

<!-- ToDo: Finish -->
- can be set for all properties, e.g. `inherit`, `initial`, `unset`



## Defaulting

### Initial values

- a property has an initial value, defined by specification, i.e. no property remains "undefined"
- the initial value for a property is used for _all elements_ for which no value is set and no one is inherited, see Inheritance below
- beware: initial value of a property is same for every element to which property can apply, part of property definition, not specific to certain element ‚ö†Ô∏è
- a user agent may choose to apply a style sheet by default, usually styled for classical documents, e.g. `font-family` is serif, `<h1>` is big and bold, `<ul>` has indented bullet points, `<a>` with `href` attribute is blue and underlined, etc.
- beware: don't confuse initial value with value set by user agent style sheet, appears as if was an initial value, but user agent sets values normally like any other style sheet, initial value therefore is not used ‚ö†Ô∏è
- beware: "default values" applied by user agent style sheet can apply only to some elements or only to certain state of one element, e.g. `<body>` has margin but not all other elements, or `<a>` with `href` attribute is blue but otherwise not, etc., therefore are not initial values ‚ö†Ô∏è
- can use a "reset" style sheet to undo any user agent default style, e.g. [destyle.css](https://github.com/nicolas-cusan/destyle.css)
- can use a "normalize" style sheet to unify user agent default style across different user agents, e.g. [normalize.css](https://github.com/necolas/normalize.css), [sanitize.css](https://github.com/csstools/sanitize.css), [cssremedy](https://github.com/jensimmons/cssremedy), [postcss-normalize](https://github.com/csstools/postcss-normalize), etc., see [html5-kitchen-sink](https://github.com/dbox/html5-kitchen-sink) for comparison

### Inheritance

- a property can be an inherited property, defined by specification, e.g. most text styling properties are inherited, like `color`, `font-size`, etc.
- a inherited property of a descendant element inherits the value from the property of its parent element
- the inherited value for an inherited property is used for _all elements_ for which no value is set instead of the initial value, only the root element uses the initial value because it has no parent
- beware: a inherited property inherits for every element to which property can apply, part of property definition, not limited to certain element ‚ö†Ô∏è
- beware: an inherited property set by user agent style sheet makes it appear as if didn't inherit for that specific element, but property does inherit for every element, just user agent set a value for this element(s), e.g. `color` of anchor element (with `href` attribute) is blue ‚ö†Ô∏è
- use inheritance to style majority of elements, style exceptions manually, saves lot of work, e.g. not setting color for every individual element in tree

### Explicit Defaulting

- global values, can be set for any property
- specify defaulting behavior
- behave like any other value in cascade, see below

- `inherit`: inherited value, i.e. forces inheritance
- `initial`: initial value, beware: not "default value" from user agent style sheet, i.e. as if all declarations of the property for _all_ elements in style sheets of _any_ origin were erased
- `unset`: like `inherit` if property inherits, otherwise like `initial`, i.e. as if all declarations of the property for _this_ element(s) in style sheets of _any_ origin were erased
- `revert`: like `unset`, except limited to style sheet of current origin, earlier style sheets can still apply (see Priority below), i.e. as if all declarations of the property for _this_ element(s) in style sheets of _this_ origin were erased

- beware: don't confuse initial value with value set by user agent style sheet, even though initial value may be defined as being set by user agent, e.g. `color`, see [StackOverflow](https://stackoverflow.com/a/61869830/2607891)

```html
<p>Lorem ipsum <a href="#">dolor</> sit amet.</p>
```

```css
/* color is an inherited property and has initial value black (*) */

p {
  color: green;
}

a {
  /* blue, since user agent style sheet default */

  /* green, since inherits from parent p */
  color: inherit;

  /* black (*), since initial value */
  color: initial;

  /* green, since color is inherited property */
  color: unset;

  /* blue, since user agent style sheet default */
  color: revert;
}
```

- can use global values to make exception from a rule, e.g.

```css
/* make all paragraphs green */

p {
  color: green;
}

/* except in the sidebar */

#sidebar p {
  color: inherit;
}
```



## Cascade

- algorithm to determine style of an element
- rules can come from different style sheets or selectors
- all rules for the element are applied
- but for one property of the element there might be multiple declarations
- conflicting declarations for one property are prioritized according to the cascade

1. Sort declarations by origin and importance, apply only most specific
    - origins of stylesheet: user agent, user, author
    - importance of declaration: `!important` after property value
    - order: user agent < user < author < author `!important` < user `!important` < user agent `!important`
    - order of author type: ex-/internal < inline
    - if declarations have same origin and importance, go to 3.
2. Sort declarations by selector specificity, apply only most specific
    - specificity: weight of a selector, determined by types of constituent selectors
    - order: (pseudo-)element < (pseudo-)class, attribute < ID
    - order of sub-selectors doesn't matter, just quantity with highest ranking
    - universal selector, combinators, negation pseudo-class have no specificity
    - if declarations have same selector specificity, go to 4.
3. Sort declarations by rule appearance, apply only last defined

- order of rules and declarations doesn't matter, except when origin, importance and specificity are identical so that 3. is reached
- user stylesheet with `!important` wins over author `!important` because accessibility requires custom style 
- selector order doesn't matter for specificity, just quantity of selectors, e.g.  
  `body p` ‚âô `main p`, `.myclass#myid` ‚âô `#myid.myclass`
- can artificially increase selector specificity by chaining same ID or class, e.g.  
  `p.myclass` < `p.myclass.myclass` < `p#myid` < `p#myid.myclass` < `p#myid#myid`  

### Best practices

- use least specific selector, so can overwrite easily later
- use least amount of selectors, so can overwrite easily later
- don't use `!important`, overwrites any normal declarations no matter their selector specificity, can't be overwritten easily
- use semantic elements styled with element selector
- use classes only if can use for multiple element types, e.g. `<p class="green large">..</p>` and `<h2 class="green large">..</h2>`
- don't use non-semantic elements styled with class selector for everything, defies separation of content and styling since must remember adding class for every element, "classitis"
- use inheritance, make rules only for exceptions, write same code only once



## At-rules

- ?? 
- @import imports a stylesheet into another CSS stylesheet

Media queries use conditional logic for applying CSS styling.




## Colors

<!-- ToDo: check -->

- can identify by name, function ??

### Name

- 140 predefined color names, e.g. `tomato`, `orange`, etc.

### RGB (Red, Green, Blue)

- intensity of colors red, green, blue from 0 to 255, black if r = g = b = 0, white if r = g = b = 255, grey if r = g = b for any other value
- `rgb(r, g, b)` for 0 <= r, g, b <= 255 in decimal
- `#(r, g, b)` for 00 <= r, g, b <= ff in hexadecimal
- `rgba(r, g, b, a)` for additional 0 <= a <= 1 transparency, can also use `rgb(r, g, b, a)` in recent browsers

### HSL (Hue, Sturation, Lightness)

- hue: degree on color wheel, from 0 to 360, red is 0, green is 120, blue is 240
- saturation: intensity of color, from 0% to 100%, grey to full color
- lightness: lightness of color, from 0% to 100%, black to white
- `hsl(h, s, l)` for 0 <= h <= 360, 0% <= s,l <= 100%
- `hsla(h, s, l, a)` for additional 0 <= a <= 1 transparenty, can also use `hsla(h, s, l, a)` in recent browsers



## Size

<!-- ToDo: check -->

- length units ???
- absolute units only good for print, except `px`
- variable units preferable, including `px`
- write without whitespace, e.g. `1px`
- unit can only be omitted for `0`

### Absolute length units

<!-- ToDo: check -->

| unit | name | definition |
| - | - | - |
| `in` | inches | 1 in = 2.54 cm |
| `cm` | centimeters | - |
| `pc` | picas | 1 pc := 12 pt ‚âà 0.42 cm |
| `mm` | millimeters | 1 mm = 0.1 cm |
| `pt` | points | 1 pt := 1/72 in ‚âà 0.35 mm |
| `px` | pixels | 1 px := 1/96 in ‚âà 0.26 mm |

- on low resolution screens all absolute units are defined in relation to the `px`, therefore equally inaccurate
- In the past one CSS pixel was mapped to one device pixel. If the screen resolution was not exactly 96 DPPI (device pixels per inch), this would not map one CSS inch to one physical inch. E.g. for a screen with 200 DPPI, 1 CSS pixel should be 200/96 ‚âà 2 device pixels. If it is mapped one to one, 1 CSS inch would only be ~1/2 physical inch. On newer screens CSS pixels are mapped over multiple device pixels and use anti-aliasing if the DPPI happens to not be an exact integer multiple of 96. On modern screens 96 px should be closer to 1 physical inch

### Relative length units

<!-- ToDo: check -->

| unit | description |
| - | - |
| `em` | current font-size of element |
| `rem` | current font-size of root element |
| `ex` | x-height in current font-size of element |
| `ch` | 0-width in current font-size of element |
| `lh` | current line height of element |
| `%` | % of parent element's value for corresponding property |
| `vw` | % of viewport's width |
| `vh` | % of viewport's height |
| `vmin` | % of viewport's smaller dimension |
| `vmax` | % of viewport's larger dimension |
|  |  |

- viewport is browser window ?? visible page window, without tab bar etc.
- `ex`, `ch`, rarely used since vary with font-family
- beware: `em`, `%` are affected by inheritance ‚ùóÔ∏è
- use `rem` to tie it to system font size ???, `em` if wants to tie to element where in



## Resources

- MDN