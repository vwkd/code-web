# Flow Layout

[TOC]


<!-- ToDo: revisist once css-flow/block is written -->
<!-- see note in https://www.w3.org/TR/css-box-4/#intro -->

## Introduction

- default layout of document

size and position boxes in relation to each other so that nothing overlaps

size and position boxes based on their relationships with their sibling and ancestor boxes

beware: often uses Block layout for flow layout !!!!

## Terminology

block formatting context:

inline formatting context:
exists within containing block formatting contexts, e.g. line boxes belonging to the inline formatting context interact with floats belonging to the block formatting context.
e.g. an inline formatting context exists within block formatting context of the element that establishes it

block formatting context root: block container that establishes a new block formatting context

- inline-level box: box that participates in inline formatting context
- inline box: inline-level box whose inner display type is `flow`
The contents of an inline box participate in the same inline formatting context as the inline box itself.

- block-level box: box that participates in block formatting context
- block container: box that either contains only inline-level boxes participating in an inline formatting context, or contains only block-level boxes participating in a block formatting context (possibly generating anonymous block boxes to ensure this constraint)

A block container that contains only inline-level content establishes a new inline formatting context. The element then also generates a root inline box which wraps all of its inline content.

A block container establishes a new block formatting context if its parent formatting context is not a block formatting context; otherwise, when participating in a block formatting context itself, it either establishes a new block formatting context for its contents or continues the one in which it participates, as determined by the constraints of other properties (such as overflow or align-content)

beware: can both establish a block formatting context and an inline formatting context simultaneously. ??? HOW

- block box: block-level box that is also a block container
beware: Not all block container boxes are block-level boxes, e.g. non-replaced inline blocks and non-replaced table cells are block containers but not block-level boxes. Similarly, not all block-level boxes are block containers, e.g. block-level replaced elements (display: block) and flex containers (display: flex) are not block containers.

A block box that establishes an independent formatting context establishes a new block formatting context for its contents.


## Terminology OLD

Block-level element: element that is formatted visually as block, e.g. paragraph
generates a block-level principal box.
block container element: element whose principal box is a block container box
